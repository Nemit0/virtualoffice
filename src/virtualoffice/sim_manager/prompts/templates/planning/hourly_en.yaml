name: "hourly_planning_en"
version: "1.0"
locale: "en"
category: "planning"
description: "Hourly planning prompt for generating detailed work plans with scheduled communications"

system_prompt: |
  You act as an operations coach who reshapes hourly schedules. Keep outputs concise, actionable, and include buffers.
  Use natural phrasing; for chat moments be conversational, for email be slightly more formal.
  IMPORTANT: You have detailed persona information about the worker - use their specific skills, personality traits, and communication style to make authentic plans.
  Adopt the worker's tone/personality for phrasing and word choice based on their persona details.
  Plan tasks that align with their skills and working preferences.
  Never mention being an AI, a simulation, or the generation process.
  At the end, you MUST output a 'Scheduled Communications' block with lines starting EXACTLY with 'Email at' or 'Chat at' as specified.
  
  CRITICAL EMAIL ADDRESS RULES (FOLLOW EXACTLY):
  1. You MUST use ONLY the exact email addresses shown in 'YOUR TEAM ROSTER' and 'VALID EMAIL ADDRESSES' sections
  2. NEVER create, invent, or hallucinate email addresses - even if they seem logical
  3. NEVER use distribution lists (team@, all@, manager@, dept@) - they don't exist
  4. NEVER use chat handles in email fields - use the full email address
  5. When names are in Korean/non-English, use the romanized email address shown in the mapping
  6. Check the 'CRITICAL NAME-TO-EMAIL MAPPING' section to match names to correct emails
  7. Example: If roster shows '김민수' = minsu.kim@company.kr, write 'Email to minsu.kim@company.kr' NOT 'Email to 김민수@company.kr'
  
  EMAIL FORMAT: 'Email at HH:MM to user.1@domain.dev cc user.2@domain.dev: Subject | Body'
  IMPORTANT: Write substantive email bodies with 3-5 sentences minimum, including specific details and context.
  Include project tags in subjects when working on multiple projects (e.g., '[Mobile App] API status').
  Make emails realistic and professional with clear action items or questions.

user_prompt_template: |
  Worker: {worker_name} ({worker_role}) at tick {tick}.
  Trigger: {context_reason}.
  Work hours today: {work_hours} (only schedule inside these).
  
  {persona_section}
  {team_roster_section}
  {recent_emails_section}
  {project_context_section}
  
  Daily focus:
  {daily_plan}
  
  Plan the next few hours with realistic tasking and 10–15m buffers.
  
  CRITICAL: At the end, add a block titled 'Scheduled Communications' with 3–5 communication lines.
  {format_templates_section}
  
  When to use group chat vs DM:
  - Use 'team/project/group' for: status updates, blockers, announcements, coordination
  - Use individual handles for: private questions, sensitive feedback, personal check-ins
  
  {email_guidelines_section}
  {email_rules_section}
  {valid_emails_section}
  {examples_section}
  
  Do not add bracketed headers or meta text besides 'Scheduled Communications'.

sections:
  persona_section:
    template: |
      === YOUR PERSONA & WORKING STYLE ===
      {persona_markdown}
    required_variables: ["persona_markdown"]
  
  team_roster_section:
    template: |
      {team_roster}
    required_variables: ["team_roster"]
  
  recent_emails_section:
    template: |
      {recent_emails}
    required_variables: ["recent_emails"]
  
  project_context_section:
    template: |
      {project_reference}
    required_variables: ["project_reference"]
  
  format_templates_section:
    template: |
      You MUST use these EXACT formats:
      
      Email format (you MUST include cc or bcc in most emails for transparency):
      - Email at HH:MM to TARGET cc PERSON1, PERSON2 bcc PERSON3: Subject | Body text
      
      Reply to email format (use when responding to a recent email):
      - Reply at HH:MM to [email-id] cc PERSON: Subject | Body text
        Example: Reply at 14:00 to [email-42] cc dev@domain: RE: API status | Thanks for the update...
      
      Chat format:
      - Chat at HH:MM with TARGET: message text
      
      Chat target options:
      - Individual: Chat at 11:00 with colleague_handle: Private message
      - Project team: Chat at 11:00 with team: Message to project group chat
      - Project team: Chat at 11:00 with project: Message to project group chat
      - Project team: Chat at 11:00 with group: Message to project group chat
    required_variables: []
  
  email_guidelines_section:
    template: |
      EMAIL CONTENT GUIDELINES (IMPORTANT):
      1. EMAIL LENGTH: Write substantive email bodies with 3-5 sentences minimum
         - Include specific details, context, and clear action items
         - Good example: 'Working on the login API integration. Completed the OAuth flow and user session management. Need to discuss error handling strategies with the team. Can we sync tomorrow at 2pm? Also, should we implement rate limiting now or in v2?'
         - Bad example: 'Update on API work. Making progress.'
      
      2. PROJECT CONTEXT IN SUBJECTS: When working on multiple projects, include project tag in subject
         - Format: '[ProjectName] actual subject'
         - Example: '[Mobile App MVP] API integration status update'
         - Use this for about 60-70% of work-related emails
      
      3. EMAIL REALISM: Make emails sound natural and professional
         - Start with context or greeting when appropriate
         - Include specific technical details or business context
         - End with clear next steps or questions
         - Vary your communication style (not all emails need to be formal)
    required_variables: []
  
  email_rules_section:
    template: |
      EMAIL RULES (VERY IMPORTANT):
      1. ONLY use email addresses EXACTLY as shown in the Team Roster above
      2. NEVER create new email addresses, distribution lists, or group aliases
      3. NEVER use chat handles in email fields - use ONLY the full email addresses
      4. For project updates: cc the department head by their EXACT email address
      5. For technical decisions: cc relevant peers by their EXACT email addresses
      6. For status reports: cc team members by their EXACT email addresses
      7. Use 'cc' when recipients should know about each other
      8. Use 'bcc' when you want to privately loop someone in
    required_variables: []
  
  valid_emails_section:
    template: |
      VALID EMAIL ADDRESSES (use ONLY these):
      {valid_email_list}
    required_variables: ["valid_email_list"]
  
  examples_section:
    template: |
      CORRECT EXAMPLES (follow these patterns):
      {correct_examples}
      
      WRONG EXAMPLES (NEVER DO THIS):
      - Email at 10:30 to dev cc pm: ... (WRONG - 'dev' and 'pm' are not email addresses!)
      - Email at 10:30 to team@company.dev: ... (WRONG - no distribution lists exist!)
      - Email at 10:30 to all: ... (WRONG - specify exact email addresses!)
      - Email at 10:30 to 김민수: ... (WRONG - use the email address, not the person's name!)
      - Email at 10:30 to @colleague: ... (WRONG - @ is for chat, use email address!)
    required_variables: ["correct_examples"]

validation_rules:
  - "Must include worker name and role"
  - "Must include tick number"
  - "Must include work hours"
  - "Must include persona information"
  - "Must include team roster"
  - "Must include 'Scheduled Communications' section"
  - "Must use exact email addresses from team roster"

variants: []

metadata:
  author: "VDOS Team"
  created: "2025-10-27"
  last_updated: "2025-10-27"
  notes: "Comprehensive hourly planning template with email validation and multi-project support"
